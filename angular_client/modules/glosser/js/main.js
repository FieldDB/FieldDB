
var lexiconOutput = {"analysisByTierByWord":{"allomorphs":{"qilangnik":["qilang-nik","qila-ngnik"],"pinnguqtitsilauqpuq":["pi-nnguq-tit-si-lauq-puq","pi-nnguq-ti-tsi-lauq-puq","pi-nnguq-tit-si-la-uq-puq","pi-nnguq-ti-tsi-la-uq-puq"]},"morphemes":{"qilangnik":["qilak-nik","qilak-nnik"],"pinnguqtitsilauqpuq":["pi-nguq-tit-si-lauq-vuq","pi-nnguk-tit-si-lauq-vuq","pi-nguq-ji-k&i-lauq-vuq","pi-nnguk-ji-k&i-lauq-vuq","pi-nguq-tit-siq-lauq-vuq","pi-nnguk-tit-siq-lauq-vuq","pi-nguq-tit-siq-lak-uq-vuq","pi-nnguk-tit-siq-lak-uq-vuq","pi-nguq-tit-si-lak-uq-vuq","pi-nnguk-tit-si-lak-uq-vuq","pi-nguq-ji-k&i-lak-uq-vuq","pi-nnguk-ji-k&i-lak-uq-vuq","pi-nguq-tit-si-llaq-uq-vuq","pi-nnguk-tit-si-llaq-uq-vuq","pi-nguq-ji-k&i-llaq-uq-vuq","pi-nnguk-ji-k&i-llaq-uq-vuq","pi-nguq-tit-siq-llaq-uq-vuq","pi-nnguk-tit-siq-llaq-uq-vuq"]},"glosses":{"qilangnik":["1n-tn.acc.p","1n-tn.acc.s.2s","1n-tn.acc.p.2s","1n-tn.acc.s.1s","1n-tn.acc.p.1s"],"pinnguqtitsilauqpuq":["1n-1nv-1vv-1vv-1vv-tv.dec.3s","1v-1vv-1vv-1vv-1vv-tv.dec.3s","1n-1nv-1vn-1nv-1vv-tv.dec.3s","1v-1vv-1vn-1nv-1vv-tv.dec.3s","1n-1nv-1vv-1vv-1vv-3vv-tv.dec.3s","1v-1vv-1vv-1vv-1vv-3vv-tv.dec.3s","1n-1nv-1vn-1nv-1vv-3vv-tv.dec.3s","1v-1vv-1vn-1nv-1vv-3vv-tv.dec.3s"]}},"farley":{"qilangnik":["{qilang:qilak/1n}{nik:nik/tn-acc-p}","{qila:qilak/1n}{ngnik:nnik/tn-acc-s-2s}","{qila:qilak/1n}{ngnik:nnik/tn-acc-p-2s}","{qila:qilak/1n}{ngnik:nnik/tn-acc-s-1s}","{qila:qilak/1n}{ngnik:nnik/tn-acc-p-1s}"],"pinnguqtitsilauqpuq":["{pi:pi/1n}{nnguq:nguq/1nv}{tit:tit/1vv}{si:si/1vv}{lauq:lauq/1vv}{puq:vuq/tv-dec-3s}","{pi:pi/1v}{nnguq:nnguk/1vv}{tit:tit/1vv}{si:si/1vv}{lauq:lauq/1vv}{puq:vuq/tv-dec-3s}","{pi:pi/1n}{nnguq:nguq/1nv}{ti:ji/1vn}{tsi:k&i/1nv}{lauq:lauq/1vv}{puq:vuq/tv-dec-3s}","{pi:pi/1v}{nnguq:nnguk/1vv}{ti:ji/1vn}{tsi:k&i/1nv}{lauq:lauq/1vv}{puq:vuq/tv-dec-3s}","{pi:pi/1n}{nnguq:nguq/1nv}{tit:tit/1vv}{si:siq/1vv}{lauq:lauq/1vv}{puq:vuq/tv-dec-3s}","{pi:pi/1v}{nnguq:nnguk/1vv}{tit:tit/1vv}{si:siq/1vv}{lauq:lauq/1vv}{puq:vuq/tv-dec-3s}","{pi:pi/1n}{nnguq:nguq/1nv}{tit:tit/1vv}{si:siq/1vv}{la:lak/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1v}{nnguq:nnguk/1vv}{tit:tit/1vv}{si:siq/1vv}{la:lak/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1n}{nnguq:nguq/1nv}{tit:tit/1vv}{si:si/1vv}{la:lak/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1v}{nnguq:nnguk/1vv}{tit:tit/1vv}{si:si/1vv}{la:lak/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1n}{nnguq:nguq/1nv}{ti:ji/1vn}{tsi:k&i/1nv}{la:lak/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1v}{nnguq:nnguk/1vv}{ti:ji/1vn}{tsi:k&i/1nv}{la:lak/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1n}{nnguq:nguq/1nv}{tit:tit/1vv}{si:si/1vv}{la:llaq/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1v}{nnguq:nnguk/1vv}{tit:tit/1vv}{si:si/1vv}{la:llaq/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1n}{nnguq:nguq/1nv}{ti:ji/1vn}{tsi:k&i/1nv}{la:llaq/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1v}{nnguq:nnguk/1vv}{ti:ji/1vn}{tsi:k&i/1nv}{la:llaq/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1n}{nnguq:nguq/1nv}{tit:tit/1vv}{si:siq/1vv}{la:llaq/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}","{pi:pi/1v}{nnguq:nnguk/1vv}{tit:tit/1vv}{si:siq/1vv}{la:llaq/1vv}{uq:uq/3vv}{puq:vuq/tv-dec-3s}"]}};
var test = lexiconOutput.analysisByTierByWord;

var master = [];
for (var ltype in test) {
  var output = [];
  for (var i = 0; i < Object.keys(test[ltype]).length; i++) {
   for (var n = 0; n < test[ltype][Object.keys(test[ltype])[i]].length; n++) {
    output.push({id: test[ltype][Object.keys(test[ltype])[i]][n], value: test[ltype][Object.keys(test[ltype])[i]][n], word: Object.keys(test[ltype])[i]});
   }
  }
  master.push(output);
}

$(function($) {
  $('input#inputAllomorphs').magicSuggest({
    id: 'inputAllomorphs',
    data: master[0],
    name: 'allomorphs',
    groupBy: 'word',
    displayField: 'value',
    maxSelection: null,
    resultAsString: true,
    resultAsStringDelimiter: '',
    selectionCls: 'customTagBackground'
  });
  $('input#inputMorphemes').magicSuggest({
    id: 'inputMorphemes',
    data: master[1],
    name: 'morphemes',
    groupBy: 'word',
    displayField: 'value',
    maxSelection: null,
    resultAsString: true,
    resultAsStringDelimiter: '',
    selectionCls: 'customTagBackground'
  });
  $('input#inputGloss').magicSuggest({
    id: 'inputGloss',
    data: master[2],
    name: 'gloss',
    groupBy: 'word',
    displayField: 'value',
    maxSelection: null,
    resultAsString: true,
    resultAsStringDelimiter: '',
    selectionCls: 'customTagBackground'
  });
});
