<br />
<br />
	<h3>{{contextualize('locale_corpus_settings')}}</h3>
<br />
<div ng-hide="loginInfo==undefined" class="form-horizontal">
	<div class="settings_section_header">
		<h2>{{contextualize('locale_create_new_corpus')}}</h2>
	</div>
	<div class="clearDiv">&nbsp;</div>
	<form ng-submit="createNewCorpus(newCorpusInfo)">
    <div class="settingsItems">
  		<input type="text" ng-model='newCorpusInfo.title'
  			placeholder="New corpus name">
  		&nbsp;
      <button class="btn btn-primary"
  			ng-disabled="application.corpus.saving">{{contextualize('locale_create_button')}}</button>&nbsp;
        <img ng-src="images/spinner-small-mainbg.gif" ng-show="loading"/>
  	</div>
  <form>
</div>

<hr />

<div class="settingsItems" ng-show="adminPermissions">
	{{contextualize('locale_not_admin_message')}}  <b>{{application.corpus.title}}</b>
</div>

<div >

  <div>
    <div class="settings_section_header">
      <h2>
        {{contextualize('locale_details_of')}} <b>{{application.corpus.title}}</b>
      </h2>
    </div>
    <div class="clearDiv">&nbsp;</div>
    <div class="settingsItems row">
      <label>Title:</label>
      <textarea ng-model="application.corpus.title"></textarea>

      <label>Description:</label>
      <textarea class="fielddb-large-textarea" ng-model="application.corpus.description"></textarea>
      <button class="btn btn-primary"
        ng-click="updateCorpusDetails(corpus)" ng-disabled="application.corpus.saving">Save</button>
        <img ng-src="images/spinner-small-mainbg.gif" ng-show="application.corpus.saving">
    </div>

  </div>

  <div>
		<div class="settings_section_header">
			<h2>
				{{contextualize('locale_add_existing_user_message')}} <b>{{application.corpus.title}}</b>
			</h2>
		</div>
		<div class="clearDiv">&nbsp;</div>
		<div class="settingsItems">
			<i>{{contextualize('locale_only_add_registered_users_message')}}</i><br />
			<input id="userToModifyInput" list="users" ng-model="newUserRoleInfo.usernameToModify">
				<datalist id="users">
  				<option ng-repeat="user in users.notonteam" value={{user.username}}>{{user.username}}</option>
  			</datalist>
			<br />
			<div class="form-horizontal">
				<font size="3">
				<input type="radio" name="userroles" value="admin" ng-model="newUserRoleInfo.role">{{contextualize('locale_admin_radio')}}&nbsp;&nbsp;&nbsp;
				<input type="radio" name="userroles" value="read_write"  ng-model="newUserRoleInfo.role">{{contextualize('locale_read_write_radio')}}&nbsp;&nbsp;&nbsp;
        <input type="radio" name="userroles" value="read_comment_only"  ng-model="newUserRoleInfo.role">{{contextualize('locale_read_comment_only_radio')}}&nbsp;&nbsp;&nbsp;
				<input type="radio" name="userroles" value="read_only"  ng-model="newUserRoleInfo.role">{{contextualize('locale_read_only_radio')}}&nbsp;&nbsp;&nbsp;
				<input type="radio" name="userroles" value="write_only"  ng-model="newUserRoleInfo.role">{{contextualize('locale_write_only_radio')}}<br />
			</font>
			</div>
			<br />
			<button class="btn btn-primary"
				ng-click="updateUserRoles(newUserRoleInfo)" ng-disabled="loading">
        {{contextualize('locale_add_button')}}
      </button>&nbsp;
      <img ng-src="images/spinner-small-mainbg.gif" ng-show="loading">
		</div>
	</div>
	<hr />

	<div>
    <ng-include src="'views/permissions.html'"></ng-include>
	</div>

  <div>
    <div class="settings_section_header">
      <h2>
        {{contextualize('locale_fields_in')}} <b>{{application.corpus.title}}</b>
      </h2>
    </div>

    <br />
    {{contextualize('locale_number_columns')}}
    <select ng-model="application.corpus.prefs.preferedSpreadsheetShape.columns">
      <option>1</option>
      <option>2</option>
      <option>3</option>
    <!-- TODO css for these <option>3</option>
      <option>4</option> -->
    </select>
    Number of Fields per column:
    <input type="number" ng-model="application.corpus.prefs.preferedSpreadsheetShape.rows"/>

    <div class="clearDiv">&nbsp;</div>
    <div class="settingsItems row">
      <button class="btn btn-primary"
        ng-click="updateCorpusDetails(corpus)"
        ng-class="{'pulsing': application.corpus.saving}"
        ng-disabled="application.corpus.saving">
        {{contextualize('locale_save_button')}}
      </button>
      <img ng-src="images/spinner-small-mainbg.gif" ng-show="application.corpus.saving"/>
      <div data-fielddb-collection json='application.corpus.datumFields'></div>
      <button class="btn btn-info"
        ng-click="application.corpus.newDatumField(addedDatumField)" ng-disabled="loading">{{contextualize('locale_add_field_button')}}
      </button>
      <button class="btn btn-primary"
        ng-class="{'pulsing': application.corpus.saving}"
        ng-click="updateCorpusDetails(corpus)" ng-disabled="application.corpus.saving">{{contextualize('locale_save_button')}}</button>
      <img ng-src="images/spinner-small-mainbg.gif" ng-show="application.corpus.saving"/>

    </div>

  </div>
</div>
