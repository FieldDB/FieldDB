<br />
<br />
	<h3>{{contextualize('locale_corpus_settings')}}</h3>
<br />
<div ng-hide="loginInfo==undefined" class="form-horizontal">
	<div class="settings_section_header">
		<h2>{{contextualize('locale_create_new_corpus')}}</h2>
	</div>
	<div class="clearDiv">&nbsp;</div>
	<form ng-submit="createNewCorpus(newCorpusInfo)">
    <div class="settingsItems">
  		<input type="text" ng-model='newCorpusInfo.newCorpusName'
  			placeholder="New corpus name">
  		&nbsp;
      <button class="btn btn-primary"
  			ng-disabled="loading==true">{{contextualize('locale_create_button')}}</button>&nbsp;<img src="images/spinner-small-mainbg.gif" ng-show="loading==true">
  	</div>
  <form>
</div>

<hr />

<div class="settingsItems" ng-show="admin==false">
	{{contextualize('locale_not_admin_message')}}  {{corpus.title}}
</div>

<div ng-hide="corpus==undefined || admin==false">

  <div>
    <div class="settings_section_header">
      <h2>
        Details of <b>{{corpus.title}}</b>
      </h2>
    </div>
    <div class="clearDiv">&nbsp;</div>
    <div class="settingsItems row">
      <label>Title:</label>
      <textarea ng-model="corpus.title"></textarea>

      <label>Description:</label>
      <textarea class="fielddb-large-textarea" ng-model="corpus.description"></textarea>
      <button class="btn btn-primary"
        ng-click="updateCorpusDetails(corpus)" ng-disabled="loading==true">Save</button>
        <img src="images/loading-spinner.gif" width="100px" ng-show="corpus.saving==true">
    </div>

  </div>

  <div>
		<div class="settings_section_header">
			<h2>
				{{contextualize('locale_add_existing_user_message')}}
			</h2>
		</div>
		<div class="clearDiv">&nbsp;</div>
		<div class="settingsItems">
			<i>{{contextualize('locale_only_add_registered_users_message')}}</i><br />
			<input id="userToModifyInput" list="users" ng-model="newUserRoleInfo.usernameToModify">
				<datalist id="users">
  				<option ng-repeat="user in users.notonteam" value={{user.username}}>{{user.username}}</option>
  			</datalist>
			<br />
			<div class="form-horizontal">
				<font size="3">
				<input type="radio" name="userroles" value="admin" ng-model="newUserRoleInfo.role">{{contextualize('locale_admin_radio')}}&nbsp;&nbsp;&nbsp;
				<input type="radio" name="userroles" value="read_write"  ng-model="newUserRoleInfo.role">{{contextualize('locale_read_write_radio')}}&nbsp;&nbsp;&nbsp;
        <input type="radio" name="userroles" value="read_comment_only"  ng-model="newUserRoleInfo.role">Read/Comment-only&nbsp;&nbsp;&nbsp;
				<input type="radio" name="userroles" value="read_only"  ng-model="newUserRoleInfo.role">{{contextualize('locale_read_only_radio')}}&nbsp;&nbsp;&nbsp;
				<input type="radio" name="userroles" value="write_only"  ng-model="newUserRoleInfo.role">{{contextualize('locale_write_only_radio')}}<br />
			</font>
			</div>
			<br />
			<button class="btn btn-primary"
				ng-click="updateUserRoles(newUserRoleInfo)" ng-disabled="loading==true">{{contextualize('locale_add_button')}}</button>&nbsp;<img src="images/spinner-small-mainbg.gif" ng-show="loading==true">
		</div>
	</div>
	<hr />

	<div>
		<div class="settings_section_header">
			<h2>
				{{contextualize('locale_users_with_access_message')}} {{corpus.title}}
			</h2>
		</div>
		<div class="clearDiv">&nbsp;</div>
		<div class="settingsItems row">
				<h3>{{contextualize('locale_admins')}}</h3>
			<div ng-repeat="user in users.admins" class="user_thumbnails">
				<img
					ng-src="https://secure.gravatar.com/avatar/{{user.gravatar}}?d=identicon"><br />
				<a class="delete_button" ng-click="removeUserFromCorpus(user.username)">ⓧ</a>
				{{user.username}}
			</div>
		</div>
		<div class="settingsItems row">
        <h3>{{contextualize('locale_writers')}}</h3>
      <div ng-repeat="user in users.writers" class="user_thumbnails">
        <img
          ng-src="https://secure.gravatar.com/avatar/{{user.gravatar}}?d=identicon"><br />
        <a class="delete_button" ng-click="removeUserFromCorpus(user.username)">ⓧ</a>
        {{user.username}}
      </div>
    </div>
    <div class="settingsItems row">
				<h3>{{contextualize('locale_readers')}}</h3>
			<div ng-repeat="user in users.readers" class="user_thumbnails">
				<img
					ng-src="https://secure.gravatar.com/avatar/{{user.gravatar}}?d=identicon"><br />
				<a class="delete_button" ng-click="removeUserFromCorpus(user.username)">ⓧ</a>
				{{user.username}}
			</div>
		</div>
    <div class="settingsItems row">
        <h3>{{contextualize('locale_commenters')}}</h3>
      <div ng-repeat="user in users.commenters" class="user_thumbnails">
        <img
          ng-src="https://secure.gravatar.com/avatar/{{user.gravatar}}?d=identicon"><br />
        <a class="delete_button" ng-click="removeUserFromCorpus(user.username)">ⓧ</a>
        {{user.username}}
      </div>
    </div>
	</div>

  <div>
    <div class="settings_section_header">
      <h2>
        {{contextualize('locale_fields_in')}} <b>{{corpus.title}}</b>
      </h2>
    </div>
    <div class="clearDiv">&nbsp;</div>
    <div class="settingsItems row">
      <button class="btn btn-primary"
        ng-click="updateCorpusDetails(corpus)"
        ng-class="{'pulsing': corpus.saving}"
        ng-disabled="loading==true">Save</button>
      <img src="images/loading-spinner.gif" width="100px" ng-show="corpus.saving==true"/>
      <div data-fielddb-collection json='corpus.datumFields'></div>
      <button class="btn btn-info"
        ng-click="corpus.newDatumField(addedDatumField)" ng-disabled="loading==true">Add Field</button>
      <button class="btn btn-primary"
        ng-class="{'pulsing': corpus.saving}"
        ng-click="updateCorpusDetails(corpus)" ng-disabled="loading==true">Save</button>
      <img src="images/loading-spinner.gif" width="100px" ng-show="corpus.saving==true"/>

    </div>

  </div>
</div>
