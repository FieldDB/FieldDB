<br />
<br />
<center>
	<h1>Corpus Settings</h1>
</center>

<div ng-hide="userInfo==undefined" class="form-horizontal">
	<div class="settings_section_header">
		<h2>Create a new corpus</h2>
	</div>
	<br />
	<div class="settingsItems">
		<input type="text" ng-model='newCorpusInfo.newCorpusName'
			placeholder="New corpus name">
		<button class="btn btn-primary"
			ng-click="createNewCorpus(newCorpusInfo)">Create</button>
	</div>
</div>

<br />

<div class="settingsItems" ng-show="admin==false">
	You are not an admin for <b>{{DB.corpustitle}}</b>. Please contact an
	admin if you wish to alter user access to this corpus.
</div>

<div ng-hide="DB==undefined || admin==false">
	<div>
		<div class="settings_section_header">
			<h2>
				Add a user to <b>{{DB.corpustitle}}</b>
			</h2>
		</div>
		<br />
		<div class="settingsItems">
			<input list="users" ng-model="newUserRoleInfo.usernameToModify">
				<datalist id="users">
  				<option ng-repeat="user in allUsers" value={{user.id}}>{{user.id}}</option>
  			</datalist>

<!-- 			<select ng-model="newUserRoleInfo.usernameToModify">
				<option value="" disabled selected>Choose a user...</option>
				<option ng-repeat="user in allUsers" value={{user.id}}>{{user.id}}</option>
			</select> --> 
			<br />
			<div class="form-horizontal">
				<input type="checkbox" ng-model="newUserRoleInfo.admin">Admin&nbsp;&nbsp;&nbsp;
				<input type="checkbox" ng-model="newUserRoleInfo.reader">Reader&nbsp;&nbsp;&nbsp;
				<input type="checkbox" ng-model="newUserRoleInfo.writer">Writer<br />
			</div>
			<br />
			<button class="btn btn-primary"
				ng-click="updateUserRoles(newUserRoleInfo)">Update</button>

		</div>
	</div>
	<br />

	<div>
		<div class="settings_section_header">
			<h2>
				Users with access to <b>{{DB.corpustitle}}</b>
			</h2>
		</div>
		<br />
		<div class="settingsItems">

			<div ng-repeat="user in corpusUsers" class="user_thumbnails">
				<img
					ng-src="https://www.gravatar.com/avatar/{{user.value.gravatar}}"><br />
				<a class="delete_button" ng-click="removeUserFromCorpus(user.id)">â“§</a>
				{{user.id}}
			</div>
			<div ng-show="corpusUsers[0]==undefined">There are currently no
				other users of this corpus.</div>
		</div>
	</div>
</div>
</div>